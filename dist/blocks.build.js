!function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var r={};t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r(1)},function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var a=r(2),l=(r.n(a),r(3)),o=(r.n(l),r(4)),__=(r.n(o),wp.i18n.__);(0,wp.blocks.registerBlockType)("cgb/block-partners-slider",{title:__("partners-slider - CGB Block"),icon:"shield",category:"common",keywords:[__("partners-slider \u2014 CGB Block"),__("CGB Example"),__("create-guten-block")],attributes:{id:{source:"attribute",selector:"div.slide",attribute:"id"},showButtons:{type:"boolean",default:!0},autoPlay:{type:"number",default:5e3},partners:{source:"query",default:[],selector:"div.partner",query:{index:{source:"text",selector:"span.partner-index"},image:{source:"attribute",selector:"img",attribute:"src"}}}},edit:function(e){var t=e.attributes,r=e.className,a=e.setAttributes,l=t.partners,i=t.showButtons,c=t.autoPlay,s=["image"];if(!t.id){var u="partner"+Math.floor(100*Math.random());a({id:u})}var p=l.sort(function(e,t){return e.index-t.index}).map(function(e){return wp.element.createElement("div",{key:e.index,className:"partner-slider"},wp.element.createElement("button",{className:"remove-partner",onClick:function(){var t=l.filter(function(t){return t.index!==e.index}).map(function(t){return t.index>e.index&&(t.index-=1),t});a({partners:t})}},"x"),wp.element.createElement("div",{className:"wp-block-partner-quote"},wp.element.createElement("div",{className:"wp-block-partner-content"},wp.element.createElement("figure",{className:"partner__picture"},wp.element.createElement(o.MediaUploadCheck,null,wp.element.createElement(o.MediaUpload,{onSelect:function(t){var r=t.sizes.medium?t.sizes.medium.url:t.url,o=Object.assign({},e,{image:r});a({partners:[].concat(n(l.filter(function(t){return t.index!==e.index})),[o])})},allowedTypes:s,type:"image",value:e.image,render:function(t){var r=t.open;return e.image?wp.element.createElement("img",{className:"partner__picture__image",src:e.image,onClick:r}):wp.element.createElement("button",{href:"#",className:"partner__picture__image",onClick:r},"Select Image")}}))))))}),m=function(){a({showButtons:!i})};return wp.element.createElement("div",{className:r},wp.element.createElement("button",{className:"add-more-partner",onClick:function(){return a({partners:[].concat(n(t.partners),[{index:t.partners.length,url:"",title:"",content:"",author:""}])})}},"+"),wp.element.createElement("label",{className:"show-button",for:"show-button"},"Show Buttons"),wp.element.createElement("input",{type:"checkbox",id:"show-button",name:"show-button",checked:i,onClick:m}),wp.element.createElement("label",{className:"auto-play-label",for:"auto-play"},"Auto Play(ms):"),wp.element.createElement(o.PlainText,{id:"auto-play",name:"auto-play",className:"auto-play",value:c,autoFocus:!0,onChange:function(e){return a({autoPlay:e})}}),wp.element.createElement("div",{className:"partner-slider-wrapper"},p))},save:function(e){var t=e.attributes,r=t.id,n=t.partners,a=t.showButtons,l=t.autoPlay,o=n.map(function(e){return wp.element.createElement("div",{className:"carousel-cell partner-slider partner",key:e.index},wp.element.createElement("span",{className:"partner-index",style:{display:"none"}},e.index),wp.element.createElement("div",{className:"wp-block-partner-content-front"},e.image&&wp.element.createElement("figure",{className:"partner__picture"},wp.element.createElement("img",{className:"partner__picture__image",src:e.image}))))});if(n.length>0){var i='{ "groupCells": true, "freeScroll": true, "draggable": true, "contain": true, "autoPlay": '+l+', "pauseAutoPlayOnHover": false, "prevNextButtons": '+a+', "pageDots": '+a+" }";return wp.element.createElement("div",{className:"carousel","data-flickity":i,id:r},o)}return null}})},function(e,t){},function(e,t){},function(e,t){e.exports=wp.blockEditor}]);